<div class="fr-card fr-card--horizontal summary-card for-what">
    <div class="summary-card__img">
        <span class="fr-icon-close-circle-fill regulation-detail-icon fr-x-icon-decorative--blue-france fr-x-icon--xl" aria-hidden="true"></span>
    </div>
    <div class="summary-card__content">
        <h3 class="summary-card__title">{{ 'regulation.detail.for_what'|trans }}</h3>
        <ul class="fr-ml-1w fr-my-0">
            <li>{{ regulationOrderRecord.description }}</li>
            <li>{{ 'regulation.detail.for_what.no_entry'|trans }}</li>
        </ul>
    </div>
    {% if canEdit %}
        <div class="summary-card__action">
            <a href="{{ path('app_regulations_steps_1', { uuid: regulationOrderRecord.uuid }) }}" class="fr-btn fr-btn--tertiary fr-btn--icon-left fr-icon-edit-line">
                {{ 'common.update'|trans }}
            </a>
        </div>
    {% endif %}
</div>

<div class="fr-card fr-card--horizontal summary-card fr-mt-3w where">
    <div class="summary-card__img">
        <span class="fr-icon-map-pin-2-fill regulation-detail-icon fr-x-icon-decorative--blue-france fr-x-icon--xl" aria-hidden="true"></span>
    </div>
    <div class="summary-card__content">
        <h3 class="summary-card__title">{{ 'regulation.detail.where'|trans }}</h3>
        {% if regulationOrderRecord.location %}
            {% set loc = regulationOrderRecord.location %}
            <ul class="fr-ml-1w fr-my-0">
                <li>{{ 'regulation.detail.where.city'|trans({'%postalCode%': loc.postalCode, '%city%': loc.city}) }}</li>
                <li>{{ 'regulation.detail.where.road_segment'|trans({'%roadName%': loc.roadName, '%from%': loc.fromHouseNumber, '%to%': loc.toHouseNumber}) }}</li>
            </ul>
        {% endif %}
    </div>
    {% if canEdit %}
    <div class="summary-card__action">
        <a href="{{ path('app_regulations_steps_2', { uuid: regulationOrderRecord.uuid }) }}" class="fr-btn fr-btn--tertiary fr-btn--icon-left fr-icon-edit-line">
            {{ 'common.update'|trans }}
        </a>
    </div>
    {% endif %}
</div>

<div class="fr-card fr-card--horizontal summary-card fr-mt-3w when">
    <div class="summary-card__img">
        <span class="fr-icon-calendar-2-fill regulation-detail-icon fr-x-icon-decorative--blue-france fr-x-icon--xl" aria-hidden="true"></span>
    </div>
    <div class="summary-card__content">
        <h3 class="summary-card__title">{{ 'regulation.detail.when'|trans }}</h3>
        {% if regulationOrderRecord.period %}
            {% set startPeriod = regulationOrderRecord.period.startPeriod %}
            {% set endPeriod = regulationOrderRecord.period.endPeriod %}
            <ul class="fr-ml-1w fr-my-0">
                <li>
                    {% if startPeriod and endPeriod %}
                        {{ 'regulation.period.temporary'|trans({
                            '%startPeriod%': startPeriod|date('d/m/Y'),
                            '%endPeriod%': endPeriod|date('d/m/Y')
                        }) }}
                    {% else %}
                        {{ 'regulation.period.permanent.future'|trans({'%date%': startPeriod|date('d/m/Y') }) }}
                    {% endif %}
                </li>
            </ul>
        {% endif %}
    </div>
    {% if canEdit %}
    <div class="summary-card__action">
        <a href="{{ path('app_regulations_steps_3', { uuid: regulationOrderRecord.uuid }) }}" class="fr-btn fr-btn--tertiary fr-btn--icon-left fr-icon-edit-line">
            {{ 'common.update'|trans }}
        </a>
    </div>
    {% endif %}
</div>

<div class="fr-card fr-card--horizontal summary-card fr-mt-3w vehicles">
    <div class="summary-card__img">
        <span class="fr-icon-car-fill regulation-detail-icon fr-x-icon-decorative--blue-france fr-x-icon--xl" aria-hidden="true"></span>
    </div>
    <div class="summary-card__content">
        <h3 class="summary-card__title">{{ 'regulation.detail.vehicles'|trans }}</h3>
        {% if regulationOrderRecord.vehicleCharacteristics %}
            {% set vehicleCharacteristics = regulationOrderRecord.vehicleCharacteristics %}
            <ul class="fr-ml-1w fr-my-0">
                {% if vehicleCharacteristics.maxWeight %}
                    <li>{{ 'regulation.detail.vehicles.weight'|trans({ '%weight%': vehicleCharacteristics.maxWeight }) }}</li>
                {% endif %}
                {% if vehicleCharacteristics.maxWidth %}
                    <li>{{ 'regulation.detail.vehicles.width'|trans({ '%width%': vehicleCharacteristics.maxWidth }) }}</li>
                {% endif %}
                {% if vehicleCharacteristics.maxHeight %}
                    <li>{{ 'regulation.detail.vehicles.height'|trans({ '%height%': vehicleCharacteristics.maxHeight }) }}</li>
                {% endif %}
                {% if vehicleCharacteristics.maxLength %}
                    <li>{{ 'regulation.detail.vehicles.length'|trans({ '%length%': vehicleCharacteristics.maxLength }) }}</li>
                {% endif %}
            </ul>
        {% endif %}
    </div>
    {% if canEdit %}
    <div class="summary-card__action">
        <a href="{{ path('app_regulations_steps_4', { uuid: regulationOrderRecord.uuid }) }}" class="fr-btn fr-btn--tertiary fr-btn--icon-left fr-icon-edit-line">
            {{ 'common.update'|trans }}
        </a>
    </div>
    {% endif %}
</div>
